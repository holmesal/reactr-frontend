// Generated by CoffeeScript 1.6.2
(function() {
  define(['jquery', 'jqueryui', 'underscore', 'backbone', 'build/views/phoneView', 'handlebars', 'build/collections/phoneCollection', 'text!templates/editPane.html', 'build/models/controller', 'build/views/prelaunchView'], function($, jqueryui, _, Backbone, PhoneView, Handlebars, PhoneCollection, EditPaneTemplate, ControllerModel, PrelaunchView) {
    var EditPaneView;

    EditPaneView = Backbone.View.extend({
      el: '#pane-right',
      template: Handlebars.compile(EditPaneTemplate),
      events: {
        'click #impSetup': 'showImpSetup'
      },
      initialize: function() {
        this.phoneCollection = new PhoneCollection;
        this.phoneView = new PhoneView({
          collection: this.phoneCollection
        });
        window.app.models.controller = this.controllerModel = new ControllerModel({
          collection: this.phoneCollection
        });
        return window.app.views.prelaunchView = this.prelaunchView = new PrelaunchView({
          model: this.controllerModel
        });
      },
      getStarted: function() {
        this.phoneView.getStarted();
        return this.animateIn();
      },
      animateIn: function() {
        var _this = this;

        return $('#pane-right').animate({
          opacity: 0
        }, 200, function() {
          _this.render();
          return $('#pane-right').animate({
            opacity: 1
          }, 200, function() {
            return _this.dragInit();
          });
        });
      },
      render: function() {
        return this.$el.html(this.template());
      },
      dragInit: function() {
        return $('#controlBank').children().draggable({
          connectToSortable: '#phoneScreen',
          helper: 'clone',
          revert: 'invalid'
        });
      },
      showImpSetup: function() {
        return this.prelaunchView.animateIn();
      }
    });
    return EditPaneView;
  });

}).call(this);
